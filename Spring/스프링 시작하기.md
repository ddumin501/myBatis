
# Spring 프로젝트 세팅하기
 1. 일반 자바 프로젝트 생성
 2. 프로젝트 우클릭 -> Configure -> Convert to Maven Project
 3. pom.xml의 <version>아래에 다음 코드 추가
 ```java
<dependencies>
		<!-- https://mvnrepository.com/artifact/org.springframework/spring-context -->
		<dependency>
			<groupId>org.springframework</groupId>
			<artifactId>spring-context</artifactId>
			<version>5.0.2.RELEASE</version>
		</dependency>
	</dependencies>
```
 4. save 후 src폴더 아래에 Maven Dependencies 폴더에 class가 잘 내장되어 있는지 확인
 5. PlugIn 설치 
 Help -> Ecllipse Marketplace -> 'spring Tools 3' Install

# Spring 프로젝트 시작하기
 6. src 폴더에 Spring Bean Configuration File을 .xml형태로 생성
  !!XSD namespace : beans 선택
 7. Jaca Bean 형태의 vo클래스 생성

  ```java
  //First.java
  package a;

public class First {
	private int num;
	private boolean flag;
	
	private String msg;
	private Second second;
	public First() {
		super();
		System.out.println("First()생성자");
	}
	public First(int num, boolean flag, String msg, Second second) {
		super();
		this.num = num;
		this.flag = flag;
		this.msg = msg;
		this.second = second;
		System.out.println("First(매개변수)생성자");
	
	}
	public int getNum() {
		System.out.println("getNum();호출됨");
		return num;
	}
	public void setNum(int num) {
		this.num = num;
		System.out.println("setNum("+num+");호출됨");
	}
	public boolean isFlag() {
		return flag;
	}
	public void setFlag(boolean flag) {
		this.flag = flag;
	}
	public String getMsg() {
		return msg;
	}
	public void setMsg(String msg) {
		this.msg = msg;
	}
	public Second getSecond() {
		return second;
	}
	public void setSecond(Second second) {
		this.second = second;
	}
	
	
}
```
8. 참조될 클래스변수 생성
```java
//Second.java
package a;

public interface Second {
	String info();
}
```
```java
//Second1.java
package a;

public class Second1 implements Second {

   @Override
   public String info() {
      return "Second1객체입니다.";
   }

}
```
```java
//Second2.java
package a;

public class Second2 implements Second {

   @Override
   public String info() {
      return "Second2객체입니다.";
   }

}
 ```
 9. beans.xml overview 탭에서  new Bean 추가
 -->id당 각각의 객체로 생성 
 (같은 class일 경우:주소는 다르고, 참조는 같은곳)
  ```java
  <bean id="second" class="a.Second2"></bean><!-- Second second = new Second1(); -->
	<bean id="first" class="a.First"><!-- First first = new first(); -->
```		
 10. property추가(set method 활성화 될것)
  ```java
  <property name="num" value="99"></property><!-- first.setNum(99); -->
		<property name="second" ref="second"></property><!-- first.setSecond(second); -->
 ```
 11. Test할 Class  생성
  ```java
 import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

public class Test {
	public static void main(String[] args) {
		String path = "beans.xml";
		ApplicationContext ctx;
		ctx = new ClassPathXmlApplicationContext(path);
		a.First first = ctx.getBean("first",a.First.class); //Bean을 a.First 클래스로 다운 캐스팅.
		System.out.println(first);
		System.out.println(first.getNum());
		System.out.println(first.getSecond().info()); //★★★★★의존성 주입 
		
		First first1 = ctx.getBean("first",a.First.class); //Bean을 a.First 클래스로 다운 캐스팅.
		System.out.println(first1);
		
		First first1 = ctx.getBean("first",a.First.class); //Bean을 a.First 클래스로 다운 캐스팅.
		System.out.println(first1);
	}
}
```
```java
--console--
First()생성자
setNum(99);호출됨
a.First@13805618 //같은주소 -> 싱글톤
getNum();호출됨
99
Second2객체입니다.
a.First@13805618 //같은주소
```
  
   
<!--stackedit_data:
eyJoaXN0b3J5IjpbMTEzMTI3MTU5OSwxMTMxMjIwNzM5LC0xNT
A5NjQyMzczLDE1NDk4MzE2MjAsLTMwNzcxNTI4NCwxOTgyMTM0
NDI5LC0xOTY0OTA5ODQzLC00MDM4NjIwMDMsLTI2MjE3NDk1OS
wtNDgyNDAyMjI4LDU1ODU0OTkzOCwtNjUxNTc0MDg4XX0=
-->